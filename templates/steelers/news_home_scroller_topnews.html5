<?php

/**
 * @file
 * Template for displaying a news item in the home scroller.
 *
 * This template is used to render a single news item in the home scroller.
 * It includes the news headline, subheadline, link, and an image with responsive sources.
 */
?>
<div class="swiper-slide bg-white h-full">
  <div class="slide-desc">
    <div class="swiper-slide__header"><a title="„Sind bereit, etwas mitzunehmen“" href="<?= $this->link ?>">
        <p class="swiper-slide__headline"><span itemprop="headline"><?= $this->newsHeadline ?></span></p>
      </a></div>
    <p class="text-white text-xl hidden xl:block">
      <?php
      if (in_array('Spielbericht', $this->categoriesList) && isset($this->arrData['game_id'])) {
        $game = \App\Tilastot\Model\Games::findByPk($this->arrData['game_id']);
        if ($game) {
          $homeTeam = \App\Tilastot\Model\Standings::getTeamData($game->hometeam, $game->round);
          $awayTeam = \App\Tilastot\Model\Standings::getTeamData($game->awayteam, $game->round);
          echo $homeTeam . ' - ' . $awayTeam . ' ' . $game->homescore . ':' . $game->awayscore . ' ' . $game->resulttype;
        } else {
          echo $this->subHeadline;
        }
      } else {
        echo $this->subHeadline;
      }
      ?>
    </p>
    <div class="d-flex align-items-center read-more-wrap text-left"><a class="btn-default mt-4"
        title="<?= $this->newsHeadline ?>" href="<?= $this->link ?>">
        weiterlesen</a></div>
  </div>
  <?php
  if(array_key_exists('picture', $this->arrData) && !empty($this->arrData['picture'])):
    $this->insert('picture_default', $this->arrData['picture']);
  endif;
  ?>
</div>